---
import DemoUpload from '../components/DemoUpload';
import '../styles/global.css';
const BASE = 'https://pompelmi.github.io/pompelmi';
const TITLE = 'Pompelmi ‚Äî File upload malware scanning for Node.js (Express, Koa, Next.js) + YARA';
const DESC =
  'Scan and block malicious file uploads in Node.js. Drop-in adapters for Express, Koa, and Next.js. ZIP deep-inspection, MIME & size policies, optional YARA rules.';
const OG_IMAGE = `${BASE}/og.png`; // 1200x630 image at website/public/og.png (keep under ~200 KB)
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{TITLE}</title>
    <meta name="description" content={DESC} />
    <link rel="canonical" href={BASE + '/'} />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="robots" content="index,follow" />
    <meta name="keywords" content="Node.js, Express, Koa, Next.js, file upload, malware scanning, YARA, ZIP bomb, MIME type, security, middleware" />
    <meta name="author" content="Pompelmi" />
    <meta name="theme-color" content="#000000" />
    <link rel="alternate" hreflang="en" href={BASE + '/'} />
    <link rel="alternate" hreflang="x-default" href={BASE + '/'} />
    <meta property="og:site_name" content="Pompelmi" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Pompelmi ‚Äî Node.js file upload malware scanning" />

    <!-- Open Graph / Twitter -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={BASE + '/'} />
    <meta property="og:title" content={TITLE} />
    <meta property="og:description" content={DESC} />
    <meta property="og:image" content={OG_IMAGE} />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={TITLE} />
    <meta name="twitter:description" content={DESC} />
    <meta name="twitter:image" content={OG_IMAGE} />
    <link rel="icon" href="/pompelmi/favicon.svg" />

    <script defer data-domain="pompelmi.github.io" src="https://plausible.io/js/script.js"></script>

    <!-- Structured data: Organization + SoftwareApplication + FAQ -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "Organization",
            "name": "Pompelmi",
            "url": "https://github.com/pompelmi/pompelmi",
            "sameAs": [
              "https://github.com/pompelmi/pompelmi"
            ]
          },
          {
            "@type": "SoftwareSourceCode",
            "name": "Pompelmi",
            "description": "Scan and block malicious file uploads in Node.js. Drop-in adapters for Express, Koa, and Next.js. ZIP deep-inspection, MIME & size policies, optional YARA rules.",
            "programmingLanguage": ["TypeScript", "JavaScript"],
            "runtimePlatform": "Node.js",
            "codeRepository": "https://github.com/pompelmi/pompelmi",
            "license": "https://opensource.org/licenses/MIT",
            "keywords": [
              "node.js",
              "express",
              "koa",
              "next.js",
              "file upload",
              "malware scanning",
              "yara",
              "zip bomb",
              "mime type",
              "security",
              "middleware"
            ]
          },
          {
            "@type": "FAQPage",
            "mainEntity": [
              {
                "@type": "Question",
                "name": "Does Pompelmi support YARA rules?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "Yes. You can plug in your own YARA rules for advanced detections alongside built-in policies."
                }
              },
              {
                "@type": "Question",
                "name": "Can it inspect ZIP archives and prevent ZIP bombs?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "Yes. It enforces limits on entries, per-entry size, total uncompressed size, and nesting depth."
                }
              },
              {
                "@type": "Question",
                "name": "Which frameworks are supported?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "Express and Koa middleware, a Next.js App Router handler, and more adapters planned."
                }
              }
            ]
          }
        ]
      }
    </script>
  </head>

  <body class="antialiased bg-gradient-to-br from-gray-50 to-gray-100">
    <nav class="bg-white border-b sticky top-0 z-50 shadow-sm">
      <div class="mx-auto max-w-5xl px-4 py-4 flex justify-between items-center">
        <a href="/pompelmi/" class="text-xl font-bold">Pompelmi</a>
        <div class="flex gap-6 text-sm font-medium">
          <a href="/pompelmi/getting-started/" class="hover:text-blue-600 transition">Docs</a>
          <a href="/pompelmi/blog/" class="hover:text-blue-600 transition">Blog</a>
          <a href="https://github.com/pompelmi/pompelmi" target="_blank" rel="noopener" class="hover:text-blue-600 transition">GitHub</a>
        </div>
      </div>
    </nav>

    <header class="mx-auto max-w-5xl px-4 py-16">
      <div class="text-center">
        <h1 class="text-5xl md:text-6xl font-extrabold tracking-tight bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
          Secure File Uploads for Node.js
        </h1>
        <p class="mt-6 text-xl text-gray-700 max-w-3xl mx-auto leading-relaxed">
          {DESC}
        </p>

        <div class="mt-8 flex flex-wrap justify-center items-center gap-4">
          <a
            href="https://github.com/pompelmi/pompelmi?utm_source=site&utm_medium=header_cta&utm_campaign=stars"
            class="inline-flex items-center rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-3 text-white text-base font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105"
            aria-label="Star Pompelmi on GitHub"
            rel="noopener noreferrer"
            target="_blank"
          >
            ‚≠ê Star on GitHub
          </a>
          <a
            href="/pompelmi/getting-started/"
            class="inline-flex items-center rounded-lg bg-white border-2 border-gray-300 px-6 py-3 text-base font-semibold hover:border-blue-500 hover:text-blue-600 transition-all"
          >
            Get Started ‚Üí
          </a>
        </div>

        <div class="mt-12 flex flex-wrap justify-center gap-8 text-sm text-gray-600">
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>ZIP Bomb Protection</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>YARA Integration</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Framework Adapters</span>
          </div>
        </div>
      </div>
    </header>

    <main class="mx-auto max-w-5xl px-4 pb-16">
      <section class="bg-white rounded-2xl shadow-lg border p-8">
        <h2 class="text-3xl font-bold mb-2">Live Demo</h2>
        <p class="text-sm text-gray-600 mb-6">
          Try uploading files: Clean JPG ‚Üí <strong class="text-green-600">CLEAN</strong>. EICAR test file ‚Üí <strong class="text-red-600">MALICIOUS</strong>.
        </p>
        <DemoUpload client:load />
      </section>

      <section class="mt-16">
        <h2 class="text-3xl font-bold text-center mb-8">Framework Support</h2>
        <div class="grid gap-6 md:grid-cols-3">
          <a href="/pompelmi/how-to/nextjs/" class="group rounded-2xl border-2 border-gray-200 p-6 hover:border-blue-500 hover:shadow-lg transition-all transform hover:-translate-y-1">
            <div class="text-3xl mb-3">‚ñ≤</div>
            <h3 class="text-xl font-semibold mb-2 group-hover:text-blue-600">Next.js</h3>
            <p class="text-sm text-gray-600">Secure file uploads in Next.js App Router with streaming support.</p>
          </a>
          <a href="/pompelmi/how-to/express/" class="group rounded-2xl border-2 border-gray-200 p-6 hover:border-blue-500 hover:shadow-lg transition-all transform hover:-translate-y-1">
            <div class="text-3xl mb-3">‚ö°</div>
            <h3 class="text-xl font-semibold mb-2 group-hover:text-blue-600">Express</h3>
            <p class="text-sm text-gray-600">Drop-in middleware for Express APIs with Multer integration.</p>
          </a>
          <a href="/pompelmi/how-to/koa/" class="group rounded-2xl border-2 border-gray-200 p-6 hover:border-blue-500 hover:shadow-lg transition-all transform hover:-translate-y-1">
            <div class="text-3xl mb-3">üåø</div>
            <h3 class="text-xl font-semibold mb-2 group-hover:text-blue-600">Koa</h3>
            <p class="text-sm text-gray-600">Lightweight middleware for Koa with async/await patterns.</p>
          </a>
        </div>
      </section>

      <section class="mt-16 bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-8 border">
        <h2 class="text-3xl font-bold mb-6 text-center">Latest from the Blog</h2>
        <div class="grid gap-6 md:grid-cols-3">
          <a href="/pompelmi/blog/introducing-pompelmi/" class="bg-white rounded-xl p-5 hover:shadow-lg transition-shadow">
            <h3 class="font-semibold mb-2 text-lg">Introducing Pompelmi</h3>
            <p class="text-sm text-gray-600 mb-3">Learn about secure file upload scanning for Node.js applications.</p>
            <span class="text-xs text-blue-600 font-medium">Read more ‚Üí</span>
          </a>
          <a href="/pompelmi/blog/preventing-zip-bombs/" class="bg-white rounded-xl p-5 hover:shadow-lg transition-shadow">
            <h3 class="font-semibold mb-2 text-lg">Preventing ZIP Bombs</h3>
            <p class="text-sm text-gray-600 mb-3">Deep dive into ZIP bomb protection mechanisms.</p>
            <span class="text-xs text-blue-600 font-medium">Read more ‚Üí</span>
          </a>
          <a href="/pompelmi/blog/yara-integration-guide/" class="bg-white rounded-xl p-5 hover:shadow-lg transition-shadow">
            <h3 class="font-semibold mb-2 text-lg">YARA Integration</h3>
            <p class="text-sm text-gray-600 mb-3">Advanced malware detection with YARA rules.</p>
            <span class="text-xs text-blue-600 font-medium">Read more ‚Üí</span>
          </a>
        </div>
        <div class="text-center mt-6">
          <a href="/pompelmi/blog/" class="inline-flex items-center text-blue-600 font-medium hover:underline">
            View all posts ‚Üí
          </a>
        </div>
      </section>

      <section class="mt-16 border-t pt-12" aria-labelledby="faq-heading">
        <h2 id="faq-heading" class="text-3xl font-bold text-center mb-8">Frequently Asked Questions</h2>
        <div class="max-w-3xl mx-auto space-y-4">
          <details class="bg-white rounded-lg border p-4 group">
            <summary class="font-medium cursor-pointer hover:text-blue-600 transition">Does Pompelmi support YARA rules?</summary>
            <p class="text-sm text-gray-600 mt-3 pl-4 border-l-2 border-blue-500">Yes. You can plug in your own YARA rules for advanced malware detections alongside built-in policies. Perfect for custom threat detection.</p>
          </details>
          <details class="bg-white rounded-lg border p-4 group">
            <summary class="font-medium cursor-pointer hover:text-blue-600 transition">Can it inspect ZIP archives and prevent ZIP bombs?</summary>
            <p class="text-sm text-gray-600 mt-3 pl-4 border-l-2 border-blue-500">Yes. It enforces limits on entries, per-entry size, total uncompressed size, and nesting depth to prevent resource exhaustion attacks.</p>
          </details>
          <details class="bg-white rounded-lg border p-4 group">
            <summary class="font-medium cursor-pointer hover:text-blue-600 transition">Which frameworks are supported?</summary>
            <p class="text-sm text-gray-600 mt-3 pl-4 border-l-2 border-blue-500">Express and Koa middleware, Next.js App Router handler, and more adapters planned. Works with any Node.js 18+ application.</p>
          </details>
        </div>
      </section>
    </main>

    <footer class="mt-20 bg-white border-t">
      <div class="mx-auto max-w-5xl px-4 py-12">
        <div class="grid gap-8 md:grid-cols-4">
          <div>
            <h3 class="font-bold text-lg mb-3">Pompelmi</h3>
            <p class="text-sm text-gray-600">Secure file upload scanning for Node.js applications.</p>
          </div>
          <div>
            <h4 class="font-semibold mb-3">Documentation</h4>
            <ul class="space-y-2 text-sm">
              <li><a href="/pompelmi/getting-started/" class="text-gray-600 hover:text-blue-600">Getting Started</a></li>
              <li><a href="/pompelmi/how-to/express/" class="text-gray-600 hover:text-blue-600">Express Guide</a></li>
              <li><a href="/pompelmi/reference/ui-react/" class="text-gray-600 hover:text-blue-600">API Reference</a></li>
            </ul>
          </div>
          <div>
            <h4 class="font-semibold mb-3">Resources</h4>
            <ul class="space-y-2 text-sm">
              <li><a href="/pompelmi/blog/" class="text-gray-600 hover:text-blue-600">Blog</a></li>
              <li><a href="https://github.com/pompelmi/pompelmi" class="text-gray-600 hover:text-blue-600">GitHub</a></li>
              <li><a href="https://github.com/pompelmi/pompelmi/issues" class="text-gray-600 hover:text-blue-600">Report Issues</a></li>
            </ul>
          </div>
          <div>
            <h4 class="font-semibold mb-3">Community</h4>
            <ul class="space-y-2 text-sm">
              <li><a href="https://github.com/pompelmi/pompelmi/discussions" class="text-gray-600 hover:text-blue-600">Discussions</a></li>
              <li><a href="https://github.com/pompelmi/pompelmi/blob/main/CONTRIBUTING.md" class="text-gray-600 hover:text-blue-600">Contributing</a></li>
              <li><a href="https://github.com/pompelmi/pompelmi/blob/main/LICENSE" class="text-gray-600 hover:text-blue-600">MIT License</a></li>
            </ul>
          </div>
        </div>
        <div class="mt-8 pt-8 border-t text-center text-sm text-gray-600">
          <p>¬© 2024 Pompelmi. Released under the MIT License.</p>
        </div>
      </div>
    </footer>
  </body>
</html>